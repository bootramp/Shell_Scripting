#!/bin/bash

PROXY_ADDR="http://192.168.35.10:3128"
NO_PROXY_LIST="localhost,127.0.0.1,::1"

ENV_LINES=(
"http_proxy=\"$PROXY_ADDR\""
"https_proxy=\"$PROXY_ADDR\""
#"ftp_proxy=\"$PROXY_ADDR\""
#"no_proxy=\"$NO_PROXY_LIST\""
)

PROFILE_LINES=(
"export http_proxy=\"$PROXY_ADDR\""
"export https_proxy=\"$PROXY_ADDR\""
#"export ftp_proxy=\"$PROXY_ADDR\""
#"export no_proxy=\"$NO_PROXY_LIST\""
)

#echo "๐ ุฏุฑ ุญุงู ุชูุธู /etc/environment ..."
for line in "${ENV_LINES[@]}"; do
    grep -qxF "$line" /etc/environment || echo "$line" | sudo tee -a /etc/environment > /dev/null
done

#echo "๐ ุฏุฑ ุญุงู ุชูุธู /etc/profile ..."
for line in "${PROFILE_LINES[@]}"; do
    grep -qxF "$line" /etc/profile || echo "$line" | sudo tee -a /etc/profile > /dev/null
done

#echo "โ ุชูุธูุงุช ุงูุฌุงู ุดุฏ. ูุทูุงู ฺฉโุจุงุฑ logout ู login ฺฉู ุง ุฏุณุชูุฑ ุฒุฑ ุฑู ุจุฒู:"
echo "Log out once and then log in again!"
echo "    source /etc/environment && source /etc/profile"
echo "ุจุง ุฏุณุชูุฑ ุฒูุฑ ุจุจูู ุชูู ูุชุบููุฑ ูุง ุงุถุงูู ุดุฏู ูุง ูู"
echo "env | grep -i proxy"
